<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Классификация данных</title>
    <link rel="stylesheet" href="static/css/style.css">
    <link rel="shortcut icon" href="static/favicon.ico">
</head>
<body>
    <a class="link" href="/">На главную</a>
    <form action="" method="POST" class="form-classification">
        {{ form.csrf_token }}
        {{ form.classification_model.label() }} {{ form.classification_model() }}
        <br>
        {{ form.input_file.label() }} {{ form.input_file() }}
        <br>
        <button type="submit">Загрузить
        </button>
        <br>
        <table class="classification_table">
            <caption>Результат классификации</caption>
            <tr class="predict_head">
                <th>№</th>
                <th>Source IP</th>
                <th>Dest IP</th>
                <th>Source Port</th>
                <th>Dest Port</th>
                <th>Result</th>
            </tr>
            {% for i in range(0, length) %}
                <tr class="predict">
                    <td>{{i+1}}</td>
                    <td>{{data[['Source IP']].iloc[i].values[0]}}</td>
                    <td>{{data[['Dest IP']].iloc[i].values[0]}}</td>
                    <td>{{data[['Source Port']].iloc[i].values[0]}}</td>
                    <td>{{data[['Dest Port']].iloc[i].values[0]}}</td>
                    {% if predictions[i] == 1 %}
                        <td style="color: red;">Bad traffic</td>
                    {% else %}
                        <td style="color: green;">Okay</td>
                    {% endif %}
                </tr>
            {% endfor %}
        </table>
    </form>
</body>
</html>